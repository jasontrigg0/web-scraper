TODO: add python3 compatibility